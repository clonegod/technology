# 分布式事务解决方案
	
## > 单机事务
	通常，不涉及分布式系统的情况下，都是使用单机事务，即依赖数据库自身就能实现事务的ACID特性要求。	

## > 分布式事务
	在分布式系统中，一个业务操作通常会涉及到多个不同的系统，这些系统有各自独立的数据库。
	如何确保同一个事务操作在不同数据库上实现数据的一致性，是一个非常棘手的问题。

	解决方案：
		对于分布式事务要实现数据的强一致性，需要以性能为代价，对于高并发系统而言是不可接受的。
		因此，一般都是采用最终一致性的原则来做分布式事务。
		由于分布式事务存在失败的可能，因此需要进行异步核对数据的一致性
		通常，所有参与分布式事务的系统都需要进行日终对账（每笔交易记录日志）。		

	其实，现实生活中有很多类似的例子。

## 实现生活中的分布式事务
	比如，买东西的时候，理解为一个事务操作：一手交钱一手交货，这是一个不可分割的原子操作。

	但是，也有这样的场景：吃饭时，落座、点餐，扫码付钱，再上菜。
		先付钱: 相当于先完成事务中的前半部分，
		后上菜：相当于是事务的后半部分。
		
		如果没付钱，则整个事务结束，不会上菜。
		如果付完钱，没上菜，则事务没有整体完成，需要人工介入（退钱或者交涉上菜）
	不管出现哪种情况，最终都会实现一致性的效果。要么付钱吃饭，要么付钱再退钱。

---

## JTA

## SAGA

## 2PC/3PC

## TCC

## 消息队列

